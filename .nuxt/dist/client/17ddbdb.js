(window.webpackJsonp=window.webpackJsonp||[]).push([[0,3],{300:function(t,e,o){var content=o(303);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(111).default)("4bb7bf3e",content,!1,{sourceMap:!1})},301:function(t,e,o){"use strict";o.r(e);var r={props:{modalClass:{type:String,default:""},title:{type:String,default:""}}},n=(o(302),o(35)),component=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"popupModalWrapper"},[e("div",{staticClass:"popupModal",class:t.modalClass},[e("div",{staticClass:"popupModalHeader"},[t._v("\n      "+t._s(t.title)+"\n      "),e("div",{staticClass:"close-btn"},[e("i",{staticClass:"fas fa-times",on:{click:function(e){return t.$emit("close")}}})])]),t._v(" "),e("div",{staticClass:"popupModalBody"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"popupModalFooter"},[t._t("footer")],2)]),t._v(" "),e("style",{tag:"component"},[t._v("\n    body {\n    overflow: hidden;\n    }\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports},302:function(t,e,o){"use strict";o(300)},303:function(t,e,o){var r=o(110)((function(i){return i[1]}));r.push([t.i,".popupModalWrapper{align-items:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:var(--overlay-bg-color);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:2000}.popupModal{background:var(--modal-bg-color);border:1px solid var(--modal-border-color);border-radius:var(--modal-border-radius);box-shadow:0 15px 15px rgba(0,0,0,.1);box-sizing:border-box;color:var(--modal-font-color);display:flex;flex-direction:column;max-height:calc(100vh - 120px);max-width:90%;min-width:300px;padding:0 20px;position:relative;width:100%}@media(max-width:767px){.popupModal{animation:modalSlideUp .3s}}.popupModalHeader{border-bottom:1px solid var(--modal-header-border-color);font-weight:700;padding:20px;position:relative;text-align:center}.popupModalHeader .close-btn{cursor:pointer;position:absolute;right:2px;top:20px;transition:opacity .3s}.popupModalHeader .close-btn:hover{opacity:.7}.popupModalBody{flex:1;overflow-y:auto;padding:20px 0}.popupModalFooter{border-top:1px solid var(--modal-header-border-color);padding:20px;position:relative;text-align:center}.popupModalFooter button{-webkit-appearance:none;background:#eee;border:1px solid #eee;border-radius:var(--button-border-radius);cursor:pointer;max-width:300px;outline:none;padding:10px 30px}.popupModalFooter button:hover{filter:brightness(.95)}.popupModalFooter button:active{filter:brightness(.9)}.popupModalFooter button.primary{background:var(--primary-button-bg-color);border:1px solid var(--primary-button-border-color);color:var(--primary-button-font-color);font-weight:700}.popupModalFooter button.secondary{background:var(--secondary-button-bg-color);border:1px solid var(--secondary-button-border-color);color:var(--secondary-button-font-color)}@keyframes modalSlideUp{0%{top:500px}to{top:0}}",""]),r.locals={},t.exports=r},313:function(t,e,o){"use strict";o.d(e,"a",(function(){return r})),o.d(e,"b",(function(){return n})),o.d(e,"d",(function(){return l})),o.d(e,"c",(function(){return c}));var r="4567rtyufghjvbnm".split(""),n=[{id:"clap1",name:"Clap 1",source:"/audio_sources/clap1.mp3",tags:["Clap"]},{id:"clap2",name:"Clap 2",source:"/audio_sources/clap2.mp3",tags:["Clap"]},{id:"crash1",name:"Crash 1",source:"/audio_sources/crash1.mp3",tags:["Crash"]},{id:"crash2",name:"Crash 2",source:"/audio_sources/crash2.mp3",tags:["Crash"]},{id:"cymbal1",name:"Cymbal 1",source:"/audio_sources/cymbal1.mp3",tags:["Cymbal"]},{id:"cymbal2",name:"Cymbal 2",source:"/audio_sources/cymbal2.mp3",tags:["Cymbal"]},{id:"hihat1",name:"Hi Hat 1",source:"/audio_sources/hihat1.mp3",tags:["Hi Hat"]},{id:"hihat2",name:"Hi Hat 2",source:"/audio_sources/hihat2.mp3",tags:["Hi Hat"]},{id:"kick1",name:"Kick 1",source:"/audio_sources/kick1.mp3",tags:["Kick"]},{id:"kick2",name:"Kick 2",source:"/audio_sources/kick2.mp3",tags:["Kick"]},{id:"openhihat1",name:"Open Hi Hat 1",source:"/audio_sources/openhihat1.mp3",tags:["Open Hi Hat","Hi Hat"]},{id:"openhihat2",name:"Open Hi Hat 2",source:"/audio_sources/openhihat2.mp3",tags:["Open Hi Hat","Hi Hat"]},{id:"perc1",name:"Perc 1",source:"/audio_sources/perc1.mp3",tags:["Percussion"]},{id:"perc2",name:"Perc 2",source:"/audio_sources/perc2.mp3",tags:["Percussion"]},{id:"ride",name:"Ride",source:"/audio_sources/ride.mp3",tags:["Ride"]},{id:"snare1",name:"Snare 1",source:"/audio_sources/snare1.mp3",tags:["Snare"]},{id:"snare2",name:"Snare 2",source:"/audio_sources/snare2.mp3",tags:["Snare"]}],l=[{name:"New Project",measures:2,speed:120,beats:4,tracks:[{name:"New Track",samples:["clap1","clap2","crash1","crash2","cymbal1","cymbal2","hihat1","hihat2","kick1","kick2","openhihat1","openhihat2","perc1","perc2","snare1","snare2"],hits:[]},{name:"Cool Drum",samples:["crash1","crash2","cymbal1","cymbal2","hihat1","hihat2","kick1","kick2","openhihat1","openhihat2","snare1","snare2"],hits:[{sample:4,measure:0,pos:0},{sample:4,measure:0,pos:.25},{sample:4,measure:0,pos:.5},{sample:4,measure:0,pos:.75},{sample:4,measure:0,pos:.125},{sample:4,measure:0,pos:.375},{sample:4,measure:0,pos:.625},{sample:8,measure:0,pos:.875},{sample:5,measure:1,pos:0},{sample:5,measure:1,pos:.25},{sample:5,measure:1,pos:.5},{sample:5,measure:1,pos:.75},{sample:5,measure:1,pos:.125},{sample:5,measure:1,pos:.375},{sample:5,measure:1,pos:.625},{sample:9,measure:1,pos:.875},{sample:6,measure:0,pos:0},{sample:10,measure:0,pos:.25},{sample:7,measure:0,pos:.5},{sample:11,measure:0,pos:.75},{sample:6,measure:1,pos:0},{sample:10,measure:1,pos:.25},{sample:7,measure:1,pos:.5},{sample:11,measure:1,pos:.75}]},{name:"Perc",samples:["clap1","clap2","perc1","perc2"],hits:[{sample:0,measure:0,pos:.125},{sample:1,measure:0,pos:.375},{sample:0,measure:0,pos:.625},{sample:3,measure:0,pos:.875},{sample:0,measure:1,pos:.125},{sample:1,measure:1,pos:.375},{sample:0,measure:1,pos:.625},{sample:2,measure:1,pos:.875}]}]}],c=[{type:"sawtooth",freq:1400},{type:"triangle",freq:1e3},{type:"triangle",freq:1e3},{type:"triangle",freq:1e3},{type:"triangle",freq:1e3},{type:"triangle",freq:1e3},{type:"triangle",freq:1e3},{type:"triangle",freq:1e3}]},315:function(t,e,o){var content=o(326);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(111).default)("26b39bfb",content,!1,{sourceMap:!1})},321:function(t,e,o){"use strict";var r=o(2),n=o(322),l=o(26),c=o(37),d=o(52),m=o(113);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=l(this),o=c(e),r=m(e,0);return r.length=n(r,e,e,o,0,void 0===t?1:d(t)),r}})},322:function(t,e,o){"use strict";var r=o(64),n=o(37),l=o(138),c=o(53),d=function(t,e,source,o,m,h,f,v){for(var element,y,k=m,_=0,x=!!f&&c(f,v);_<o;)_ in source&&(element=x?x(source[_],_,e):source[_],h>0&&r(element)?(y=n(element),k=d(t,e,element,y,k,h-1)-1):(l(k+1),t[k]=element),k++),_++;return k};t.exports=d},323:function(t,e,o){o(112)("flat")},324:function(t,e,o){"use strict";var r=o(2),n=o(65).findIndex,l=o(112),c="findIndex",d=!0;c in[]&&Array(1)[c]((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),l(c)},325:function(t,e,o){"use strict";o(315)},326:function(t,e,o){var r=o(110)((function(i){return i[1]}));r.push([t.i,".track-setting button.edit{background:var(--red);color:var(--white)}.pad-mode .track-preview{margin-top:1em}.pad-buttons{grid-gap:5px;display:grid;grid-template-columns:1fr 1fr 1fr 1fr;text-align:center}.pad-buttons .pad-button{align-items:center;border-radius:var(--button-border-radius);box-shadow:inset 0 0 100px rgba(0,0,0,.533);display:flex;font-size:.75em;height:calc(25vh - 62.5px);justify-content:center;min-height:100px;opacity:.6;transition:opacity 1s}.pad-buttons .pad-button.active{opacity:1;transition:opacity 0s,box-shadow 0s}.pad-buttons .pad-button:first-child{background:var(--pad-button-color--1)}.pad-buttons .pad-button:nth-child(2){background:var(--pad-button-color--2)}.pad-buttons .pad-button:nth-child(3){background:var(--pad-button-color--3)}.pad-buttons .pad-button:nth-child(4){background:var(--pad-button-color--4)}.pad-buttons .pad-button:nth-child(5){background:var(--pad-button-color--5)}.pad-buttons .pad-button:nth-child(6){background:var(--pad-button-color--6)}.pad-buttons .pad-button:nth-child(7){background:var(--pad-button-color--7)}.pad-buttons .pad-button:nth-child(8){background:var(--pad-button-color--8)}.pad-buttons .pad-button:nth-child(9){background:var(--pad-button-color--9)}.pad-buttons .pad-button:nth-child(10){background:var(--pad-button-color--10)}.pad-buttons .pad-button:nth-child(11){background:var(--pad-button-color--11)}.pad-buttons .pad-button:nth-child(12){background:var(--pad-button-color--12)}.pad-buttons .pad-button:nth-child(13){background:var(--pad-button-color--13)}.pad-buttons .pad-button:nth-child(14){background:var(--pad-button-color--14)}.pad-buttons .pad-button:nth-child(15){background:var(--pad-button-color--15)}.pad-buttons .pad-button:nth-child(16){background:var(--pad-button-color--16)}.instruments-form .section-title{margin-bottom:10px}.sample-select .samples{grid-gap:10px;display:grid;grid-template-columns:1fr 1fr}.sample-select .sample{grid-gap:10px;align-items:center;border:1px solid var(--modal-separator-color);border-radius:var(--button-border-radius);display:grid;grid-template-columns:1fr auto;padding:5px 10px;transition:border-color color .3s .3s}.sample-select .sample .sample-preview{opacity:0}.sample-select .sample.active{border-color:var(--primary);color:var(--primary)}.sample-select .sample.active .sample-preview{opacity:1}",""]),r.locals={},t.exports=r},327:function(t,e,o){"use strict";o.r(e);o(36),o(83),o(84),o(210),o(14),o(82),o(44),o(45);var r=o(131);var n=o(190),l=o(105);function c(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(n.a)(t)||Object(l.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o(208),o(38),o(321),o(323),o(54),o(324);var d=o(313),m={props:{project:{type:Object,default:function(){}},playing:{type:Boolean,default:!1},recording:{type:Boolean,default:!1},contextCurrentTime:{type:Number,default:-1},track:{type:Object,default:function(){return{}}}},data:function(){for(var t={},i=0;i<16;i++)t[i]=!1;return{availableSamples:d.b,isHitted:t,editModalVisible:!1,editSampleMode:!1,editSampleModalVisible:!1,editBtnIdx:null,clonedTrack:{},selectedSample:null,selectedSampleCategory:[]}},computed:{samples:function(){var t=this;return this.selectedSampleCategory.length?this.availableSamples.filter((function(e){var o=!1;return t.selectedSampleCategory.forEach((function(t){e.tags.includes(t)&&(o=!0)})),o})):this.availableSamples},sampleTags:function(){return this.availableSamples.map((function(t){return t.tags})).flat().reduce((function(t,e){return t.includes(e)?t:[].concat(c(t),[e])}),[])},speed:function(){return 60/this.project.speed},measureTime:function(){return this.speed*this.project.beats},totalTime:function(){return this.measureTime*this.project.measures},currentMeasure:function(){return Math.floor(this.contextCurrentTime%this.totalTime/this.measureTime)},currentHits:function(){var t=this,e=Math.floor(this.contextCurrentTime%this.measureTime/this.measureTime*100)/100,o=this.track.hits.filter((function(o){return o.measure===t.currentMeasure&&Math.floor(10*o.pos)===Math.floor(10*e)})).map((function(t){return t.sample}));return this.playing?o:[]}},watch:{recording:function(t){t&&(this.editSampleMode=!1)}},mounted:function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)},beforeDestroy:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)},methods:{hitStart:function(t){if(this.editSampleMode)return this.editBtnIdx=t,void this.showEditSampleModal();this.$emit("hitStart",t),this.isHitted[t]=!0},hitEnd:function(t){this.$emit("hitEnd",t),this.isHitted[t]=!1},onKeyDown:function(t){if(!this.editModalVisible&&!this.editSampleMode){var e=d.a.findIndex((function(e){return e===t.key}));e>-1&&this.hitStart(e)}},onKeyUp:function(t){if(!this.editModalVisible&&!this.editSampleMode){var e=d.a.findIndex((function(e){return e===t.key}));e>-1&&this.hitEnd(e)}},switchEditSampleMode:function(){this.editSampleMode=!this.editSampleMode},showEditModal:function(){this.clonedTrack=JSON.parse(JSON.stringify(this.track)),this.editModalVisible=!0,this.editSampleMode=!1},hideEditModal:function(t){this.editModalVisible=!1,t&&(this.track.name=this.clonedTrack.name)},showEditSampleModal:function(){var t=this;this.clonedTrack=JSON.parse(JSON.stringify(this.track)),this.selectedSample=this.track.samples[this.editBtnIdx];var e=this.availableSamples.find((function(e){return e.id===t.track.samples[t.editBtnIdx]}));this.selectedSampleCategory=e?e.tags:[],this.editSampleModalVisible=!0},hideEditSampleModal:function(t){this.editSampleModalVisible=!1,t&&(this.clonedTrack.samples[this.editBtnIdx]=this.selectedSample,this.track.samples=this.clonedTrack.samples)},selectSampleById:function(t){this.selectedSample=t,this.$emit("preview",t)}}},h=(o(325),o(35)),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pad-mode"},[e("div",{staticClass:"header-bar pad-info"},[e("div",{staticClass:"pad-back"},[e("button",{staticClass:"icon-btn",attrs:{disabled:t.recording},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fas fa-chevron-left"}),t._v("\n        "+t._s(t.project.name)+"\n      ")])]),t._v(" "),e("div",{staticClass:"track-name center"},[e("span",{on:{click:function(e){return t.showEditModal()}}},[t._v(t._s(t.track.name))])]),t._v(" "),e("div",{staticClass:"track-setting right"},[e("button",{class:{edit:t.editSampleMode},attrs:{disabled:t.playing||t.recording},on:{click:function(e){return t.switchEditSampleMode()}}},[e("i",{staticClass:"fas fa-drum"}),t._v("\n        Edit Pad\n      ")])])]),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"pad-buttons"},t._l(16,(function(i){return e("div",{key:"button_".concat(i),staticClass:"pad-button",class:{active:t.isHitted[i-1]||t.currentHits.includes(i-1)},on:{mousedown:function(e){return e.preventDefault(),t.hitStart(i-1)},mouseup:function(e){return e.preventDefault(),t.hitEnd(i-1)},touchstart:function(e){return e.preventDefault(),t.hitStart(i-1)},touchend:function(e){return e.preventDefault(),t.hitEnd(i-1)}}},[t._v("\n        "+t._s(t.availableSamples.find((function(e){return e.id===t.track.samples[i-1]}))?t.availableSamples.find((function(e){return e.id===t.track.samples[i-1]})).name:"none")+"\n      ")])})),0),t._v(" "),e("div",{staticClass:"track-preview"},t._l(t.project.measures,(function(o,r){return e("div",{key:"measure_".concat(r),staticClass:"measure",class:{active:r===t.currentMeasure}},t._l(t.track.samples,(function(n,l){return e("div",{key:"sample_".concat(r,"_").concat(l),staticClass:"sample"},t._l(t.track.hits.filter((function(t){return t.sample===l&&t.measure===o-1})),(function(t,o){return e("div",{key:"hit_".concat(r,"_").concat(l,"_").concat(o),staticClass:"hit",style:"left: ".concat(100*t.pos,"%")})})),0)})),0)})),0)]),t._v(" "),t.editModalVisible?e("PopupModal",{attrs:{title:"Edit Track"},on:{close:function(e){return t.hideEditModal()}}},[e("div",{staticClass:"form edit-grid"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"label"},[t._v("\n          Track Name\n        ")]),t._v(" "),e("div",{staticClass:"field"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.clonedTrack.name,expression:"clonedTrack.name"}],attrs:{type:"text"},domProps:{value:t.clonedTrack.name},on:{input:function(e){e.target.composing||t.$set(t.clonedTrack,"name",e.target.value)}}})])])]),t._v(" "),e("template",{slot:"footer"},[e("button",{staticClass:"secondary",on:{click:function(e){return t.hideEditModal()}}},[t._v("\n        Cancel\n      ")]),t._v(" "),e("button",{staticClass:"primary",on:{click:function(e){return t.hideEditModal(!0)}}},[t._v("\n        OK\n      ")])])],2):t._e(),t._v(" "),t.editSampleModalVisible?e("PopupModal",{attrs:{title:"Edit Pad"},on:{close:function(e){return t.hideEditSampleModal()}}},[e("div",{staticClass:"instruments-form"},[e("div",{staticClass:"section-title"},[t._v("\n        Category\n      ")]),t._v(" "),e("div",{staticClass:"tags"},t._l(t.sampleTags,(function(o){return e("label",{key:o},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedSampleCategory,expression:"selectedSampleCategory"}],staticClass:"tag",attrs:{type:"checkbox"},domProps:{value:o,checked:Array.isArray(t.selectedSampleCategory)?t._i(t.selectedSampleCategory,o)>-1:t.selectedSampleCategory},on:{change:function(e){var r=t.selectedSampleCategory,n=e.target,l=!!n.checked;if(Array.isArray(r)){var c=o,d=t._i(r,c);n.checked?d<0&&(t.selectedSampleCategory=r.concat([c])):d>-1&&(t.selectedSampleCategory=r.slice(0,d).concat(r.slice(d+1)))}else t.selectedSampleCategory=l}}}),t._v("\n          "+t._s(o)+"\n        ")])})),0),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"section-title"},[t._v("\n        Instruments\n      ")]),t._v(" "),e("div",{staticClass:"sample-select"},[e("div",{staticClass:"samples"},t._l(t.samples,(function(o){return e("div",{key:"sample_".concat(o.id),staticClass:"sample",class:{active:o.id===t.selectedSample},on:{click:function(e){return t.selectSampleById(o.id)}}},[e("div",{staticClass:"sample-name"},[t._v("\n              "+t._s(o.name)+"\n            ")]),t._v(" "),e("div",{staticClass:"sample-preview"},[e("i",{staticClass:"fas fa-check"})])])})),0)])]),t._v(" "),e("template",{slot:"footer"},[e("button",{staticClass:"secondary",on:{click:function(e){return t.hideEditSampleModal()}}},[t._v("\n        Cancel\n      ")]),t._v(" "),e("button",{staticClass:"primary",on:{click:function(e){return t.hideEditSampleModal(!0)}}},[t._v("\n        OK\n      ")])])],2):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PopupModal:o(301).default})}}]);